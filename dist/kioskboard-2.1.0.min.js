/* KioskBoard - Virtual Keyboard (https://github.com/furcan/KioskBoard) - Version: 2.1.0 - Author: Furkan MT (https://github.com/furcan) - Copyright 2022 KioskBoard - Virtual Keyboard, MIT Licence (https://opensource.org/licenses/MIT) */

(function(a,b){"function"==typeof define&&define.amd?define([],function(){return b(a)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=b(a):a.KioskBoard=b(a)})("undefined"==typeof global?"undefined"==typeof window?this:window:global,function(a){"use strict";if("undefined"!=typeof a||"undefined"!=typeof a.document){var b,c=function(){return null},d=function(){if(null!==c()&&!a.document.getElementById("KioskBoardInternalCSS")){var b=a.document.createElement("style");b.id="KioskBoardInternalCSS",b.innerHTML=c(),a.document.head.appendChild(b)}},e={keysNumpadArrayOfNumbers:null,language:"en",theme:"light",cssAnimations:!0,cssAnimationsDuration:360,cssAnimationsStyle:"slide",keysFontFamily:"sans-serif",keysFontSize:"22px",keysFontWeight:"normal"},f={0:"7",1:"8",2:"9",3:"4",4:"5",5:"6",6:"1",7:"2",8:"3",9:"0"},g=function(){var a={},b=!1,c=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(b=arguments[0],c++);for(var d=function(c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=b&&"[object Object]"===Object.prototype.toString.call(c[d])?g(a[d],c[d]):c[d])};c<arguments.length;c++)d(arguments[c]);return a};(function(){function b(b,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var d=a.document.createEvent("CustomEvent");return d.initCustomEvent(b,c.bubbles,c.cancelable,c.detail),d}return"function"!=typeof a.Event&&void(b.prototype=a.Event.prototype,a.Event=b)})();var h={init:function(a){a="object"==typeof a&&0<Object.keys(a).length?a:{},b=g(!0,e,a),d()},run:function(c,d){"object"==typeof d&&0<Object.keys(d).length&&h.init(d);var e=b,g=a.document.querySelector(c),i=0,j=[],k=(g.value||"").length;i=g.selectionStart||k,j=g.value.split("");var l="",m="string"==typeof e.keysFontFamily&&0<e.keysFontFamily.length?e.keysFontFamily:"sans-serif",n="string"==typeof e.keysFontSize&&0<e.keysFontSize.length?e.keysFontSize:"22px",o="string"==typeof e.keysFontWeight&&0<e.keysFontWeight.length?e.keysFontWeight:"normal",p="";for(var q in f)if(Object.prototype.hasOwnProperty.call(f,q)){var r=q,s=f[q],t="<span style=\"font-family:"+m+",sans-serif;font-weight:"+o+";font-size:"+n+";\" class=\"kioskboard-key kioskboard-key-"+s.toString()+" "+("9"===r?"kioskboard-key-double":"")+"\" data-index=\""+r.toString()+"\" data-value=\""+s.toString()+"\">"+s.toString()+"</span>";p+=t}l+="<div class=\"kioskboard-row kioskboard-row-numpad\">"+p+"<span style=\"font-family:Barlow,sans-serif;font-weight:500;font-size:22px;\" class=\"kioskboard-key\" data-value=\".\">.</span></div>";var u=function(b){var c=a.document.createElement("div");return c.className="kioskboard-wrapper",c.innerHTML=b.trim(),c}(l),v=!0===e.cssAnimations,w="no-animation",x="no-animation",y=0;v&&(w="kioskboard-with-animation",x="kioskboard-fade",y="number"==typeof e.cssAnimationsDuration?e.cssAnimationsDuration:360,"slide"===e.cssAnimationsStyle&&(x="kioskboard-slide"));var z="string"==typeof e.theme&&0<e.theme.length?e.theme.trim():"light",A=a.document.createElement("div");A.id="KioskBoard-VirtualKeyboard",A.classList.add("kioskboard-theme-"+z),A.classList.add("kioskboard-placement-bottom"),A.classList.add(w),A.classList.add(x),A.classList.add("kioskboard-tolowercase"),A.style.animationDuration=v?y+"ms":"",A.appendChild(u);var B=new Event("change",{bubbles:!0,cancelable:!0}),C=function(b){var c=a.document.getElementById(A.id).getElementsByClassName("kioskboard-key");if(c&&0<c.length)for(var d,e=0;e<c.length;e++)d=c[e],d.addEventListener("click",function(a){a.preventDefault();for(var c=a.currentTarget.dataset.value||"",d=c.split(""),e=0;e<d.length;e++)i=b.selectionStart||(b.value||"").length,j.splice(i,0,d[e]),console.log("updating input value to "+j.join("")),b.dispatchEvent(B)},!1)},D=a.document.getElementById(A.id);if(!D){a.document.body.appendChild(A);var E=Math.round(a.innerHeight),F=Math.round(a.document.getElementById(A.id).offsetHeight);if(F>Math.round(2*(E/3))){var G=a.document.getElementById(A.id).getElementsByClassName("kioskboard-wrapper")[0];G.style.maxHeight=Math.round(4*(E/5))+"px",G.style.overflowX="hidden",G.style.overflowY="auto",G.classList.add("kioskboard-overflow")}C(g)}}};return h}});